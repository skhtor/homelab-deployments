---
controllers:
  main:
    strategy: RollingUpdate
    containers:
      "{{ .Release.Name }}":
        image:
          repository: ghcr.io/skhtor/foosball-elo-frontend
          tag: latest
          pullPolicy: Always
        resources:
          requests:
            memory: 32Mi
            cpu: 50m
          limits:
            memory: 64Mi
            cpu: 100m

service:
  main:
    controller: main
    ports:
      http:
        port: 80

ingress:
  main:
    annotations:
      cert-manager.io/cluster-issuer: ca-issuer
    hosts:
      - host: foosball.home
        paths:
          - path: /api
            pathType: Prefix
            service:
              name: foosball-elo-api
              port: 8080
          - path: /
            pathType: Prefix
            service:
              identifier: main
              port: http
    tls:
      - secretName: foosball-tls
        hosts:
          - foosball.home
